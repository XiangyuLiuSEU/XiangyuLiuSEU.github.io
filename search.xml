<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[Git ä½¿ç”¨ç¬”è®°]]></title>
    <url>%2F2019%2F04%2F03%2Fgit-note%2F</url>
    <content type="text"><![CDATA[å»–é›ªå³°çš„ Git æ•™ç¨‹ å°‘ç”¨ Pull å¤šç”¨ Fetch å’Œ Merge è§åˆ°å¾ˆå¤šäººè¯´è¿‡è¿™ä¸ªç»éªŒï¼ŒåŸå› å°±æ˜¯ git pull æŠŠè¿‡ç¨‹çš„ç»†èŠ‚éƒ½éšè—äº†èµ·æ¥ï¼Œå¤§éƒ¨åˆ†æ—¶å€™æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œä½†æ˜¯å½“ä»£ç å‡ºé”™æ—¶å¯èƒ½ä¼šé€ æˆæŸå¤±ã€‚å¾ˆå¤šæ—¶å€™æˆ‘ä»¬å®æ„¿åšçš„æ…¢ä¸€äº›ï¼Œä¹Ÿä¸æ„¿æ„è¿”å·¥é‡æ¥ ä¸€èˆ¬çš„åšæ³•æ˜¯ï¼š 12git fetch origin # ä¸‹è½½è¿œç¨‹åˆ†æ”¯çš„æ›´æ–°git merge origin/master # åˆå¹¶è¿œç¨‹åˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯ å¦‚æœä½ æƒ³åœ¨åˆå¹¶å‰æŸ¥çœ‹æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯çš„å·®å¼‚ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼š 1git diff master origin/master å•ç‹¬è¿›è¡Œä¸‹è½½å’Œåˆå¹¶æ˜¯ä¸€ä¸ªå¥½çš„åšæ³•ï¼Œä½ å¯ä»¥å…ˆçœ‹çœ‹ä¸‹è½½çš„æ˜¯ä»€ä¹ˆï¼Œç„¶åå†å†³å®šæ˜¯å¦å’Œæœ¬åœ°ä»£ç åˆå¹¶ï¼Œæ–¹ä¾¿ä½¿ç”¨ã€‚]]></content>
      <categories>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>git</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[nvcc ç¼–è¯‘æŠ¥é”™ï¼šæ‰¾ä¸åˆ° "cuda_runtime.h"]]></title>
    <url>%2F2019%2F04%2F02%2Fnvcc-fatal-error-cuda-runtime-h%2F</url>
    <content type="text"><![CDATA[å¥‡æ€ªçš„é”™è¯¯ ä»Šå¤©åœ¨å®‰è£… PANet æ—¶é‡åˆ°äº†ä¸€ä¸ªå¥‡æ€ªçš„é”™è¯¯ï¼š 12Compiling nms kernels by nvcc...cc1plus: fatal error: cuda_runtime.h: No such file or directory æŒ‰ç†è¯´ä¸åº”è¯¥å‡ºç°è¿™ç§å¥‡æ€ªçš„é”™è¯¯ï¼Œcuda_runtime.h å°±å®‰é™åœ°èººåœ¨ /usr/local/cuda/include ç›®å½•ä¸‹ï¼Œcuda å®‰è£…æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œè¿™ä¸ªä»“åº“åœ¨å®éªŒå®¤çš„æœåŠ¡å™¨ä¸Šä¹Ÿè·‘è¿‡ï¼Œå®Œå…¨æ²¡æœ‰é—®é¢˜ã€‚ç„¶è€Œå°±æ˜¯è¿™æ ·çš„é”™è¯¯è´¹äº†è€åŠå¤©æ—¶é—´ä¹Ÿæ— æ³•å®šä½åŸå› ï¼Œç½‘ä¸Šçš„è§£å†³åŠæ³•æ— éå°±æ˜¯ç¯å¢ƒå˜é‡çš„é—®é¢˜ï¼Œå¤šæ¬¡ç¡®è®¤ä¹‹åç¯å¢ƒå˜é‡æ˜¯æ²¡æœ‰é—®é¢˜çš„ ğŸ˜© éš¾é“è¦å› ä¸ºè¿™ä¸ªé”™è¯¯é‡è£… cudaï¼Ÿ é‡è£…æ˜¯ä¸å¤ªå¯èƒ½çš„ï¼ŒæœåŠ¡å™¨ä¸Šé…ç¯å¢ƒå¤ªè´¹äº‹ï¼Œ äºæ˜¯æŸ¥çœ‹ nvcc å‘½ä»¤å¸®åŠ©ï¼Œæœç„¶å…¶ä¸­å†™ç€å¯ä»¥ç”¨ -I é€‰é¡¹æŒ‡å®šåŒ…å«å¤´æ–‡ä»¶çš„è·¯å¾„ï¼Œè¿…é€Ÿåœ¨ PANet/lib/make.sh ä¸­æœ‰å…³ nvcc çš„å‘½ä»¤åŠ ä¸Š -I /usr/local/cuda/include ï¼Œè¿è¡Œï¼ŒæˆåŠŸ ğŸ˜ ä¼°è®¡æ˜¯ç¯å¢ƒå˜é‡å‡ºç°äº†æŸç§é”™è¯¯ï¼Œè™½ç„¶åˆ°æœ€åä¹Ÿæ²¡æœ‰ææ˜ç™½ä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ä¸ªé”™è¯¯ï¼Œä½†å¥½æ­¹æ˜¯è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚è¿™ä¸ªé—®é¢˜è¯´æ˜äº†é‡äº‹ä¸èƒ½åªé ç™¾åº¦ï¼Œè¦è‡ªå·±å¥½å¥½åˆ†æ]]></content>
      <categories>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>cuda</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é€šè¿‡ SSH éš§é“è¿æ¥è¿œç¨‹æœåŠ¡å™¨çš„ Jupyter Notebook]]></title>
    <url>%2F2019%2F02%2F24%2FRemote-jupyter-notebook%2F</url>
    <content type="text"><![CDATA[å‚è€ƒ: https://www.howtoing.com/how-to-install-run-connect-to-jupyter-notebook-on-remote-server åœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Šæ²¡æœ‰å®‰è£…æµè§ˆå™¨çš„æƒ…å†µä¸‹ï¼Œé€šè¿‡åœ¨æœ¬åœ°å»ºç«‹ SSH éš§é“çš„æ–¹æ³•ä½¿ç”¨æœåŠ¡å™¨çš„ Jupyter Notebook 1. æœåŠ¡å™¨ç«¯ é¦–å…ˆç¡®ä¿æœåŠ¡å™¨ç«¯å®‰è£…äº† Jupyter Notebookï¼Œå¦‚æœéœ€è¦ä½¿ç”¨ conda ç¯å¢ƒï¼Œè¿˜è¦å®‰è£… ipykernel ç­‰åŒ… è¿›å…¥è™šæ‹Ÿç¯å¢ƒï¼Œè¿è¡Œ Jupyter Notebook 1jupyter notebook æ ¹æ®è¾“å‡ºçš„ä¿¡æ¯å¯ä»¥çœ‹åˆ°æ— æ³•æ‰¾åˆ°å¯ç”¨çš„æµè§ˆå™¨ 12345[I 09:56:37.551 NotebookApp] Serving notebooks from local directory: /home/liuxiangyu[I 09:56:37.551 NotebookApp] The Jupyter Notebook is running at:[I 09:56:37.552 NotebookApp] http://172.17.0.2:8888/?token=******[I 09:56:37.552 NotebookApp] Use Control-C to stop this server and shut down all kernels (twice to skip confirmation).[W 09:56:37.557 NotebookApp] No web browser found: could not locate runnable browser. æ³¨æ„ï¼šå¦‚æœæŠ¥é”™ä¿¡æ¯æç¤ºåœ°å€å·²ç»è¢«å ç”¨ï¼Œé‚£ä¹ˆä¹…éœ€è¦ä¿®æ”¹ä¸€ä¸‹ Jupyter Notebook çš„é»˜è®¤åœ°å€ã€‚ä¿®æ”¹æ–¹å¼å¦‚ä¸‹ï¼š é…ç½® Jupyter Notebook 1jupyter notebook --generate-config è¿è¡Œå‘½ä»¤åå°†ä¼šåœ¨ä¸»ç›®å½•ä¸‹ç”Ÿæˆ .jupyter/jupyter_notebook_config.py æ–‡ä»¶ï¼Œæ‰“å¼€æ–‡ä»¶æ‰¾åˆ° #c.NotebookApp.ip = 'localhost'ï¼ŒæŠŠ # å·å»æ‰ï¼Œlocalhost æ”¹æˆè‡ªå·±çš„ ip åœ°å€ï¼ˆåœ¨ä¸Šé¢è¾“å‡ºä¿¡æ¯ä¸­å¯ä»¥çœ‹åˆ°ï¼‰ ä¿å­˜åå…³é—­æ–‡ä»¶ï¼Œé‡å¯ Jupyter Notebook å³å¯ è‡³æ­¤ï¼ŒæœåŠ¡å™¨ç«¯çš„å‡†å¤‡å·²ç»å®Œæˆäº†ï¼Œæˆ‘ä»¬éœ€è¦è®°ä½æœåŠ¡å™¨çš„åœ°å€ 172.17.0.2 å’Œç«¯å£å· 8008 2. æœ¬åœ° ä»¥ Windows ç³»ç»Ÿä¸ºä¾‹ï¼Œä¸‹è½½ putty æ‰“å¼€ putty ååœ¨æœåŠ¡å™¨åœ°å€å’Œç«¯å£å¤„æ­£ç¡®å¡«å†™ä¿¡æ¯ï¼Œç„¶ååœ¨å·¦ä¾§ ssh é€‰é¡¹ä¸‹é€‰æ‹© Tunnels Source port å¡«å†™æœ¬åœ°æƒ³ç”¨çš„ç«¯å£å·ï¼Œä»¥ 8000 ä¸ºä¾‹ Destination å¡«å†™ æœåŠ¡å™¨åœ°å€ 172.17.0.2:8888 å…¶ä»–é€‰é¡¹ä¸è¦ä¿®æ”¹ï¼Œæœ€åä¸è¦å¿˜è®°ç‚¹å‡» Addï¼Œç„¶åè¿æ¥å³å¯ è¿æ¥åˆ°æœåŠ¡å™¨åè¿›å…¥ç›¸åº”çš„è™šæ‹Ÿç¯å¢ƒï¼Œè¿è¡Œ Jupyter Notebookï¼Œç„¶åæ‰“å¼€æµè§ˆå™¨è¾“å…¥åœ°å€ https://localhost:8000 å³å¯æ‰“å¼€ notebook. ç¬¬ä¸€æ¬¡è¿›å…¥ notebook å¯èƒ½éœ€è¦è¾“å…¥ tokenï¼ŒæŒ‰ç…§æç¤ºè¾“å…¥ç›¸åº”çš„ token å³å¯ Done! ğŸ˜]]></content>
      <categories>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>env</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Detectron å®‰è£…æ­¥éª¤]]></title>
    <url>%2F2019%2F01%2F20%2Fdetectron-installation%2F</url>
    <content type="text"><![CDATA[Requirementsï¼š Linux 16.04, Python2, NVIDIA GPU (Detectron ç›®å‰åªæœ‰ GPU ç‰ˆæœ¬) CUDA 9.0, cuDNN7.0.5 Caffe2, COCO API ä¸ºä¿æŒ Python ç¯å¢ƒçš„ç‹¬ç«‹æ€§ä¸å®Œæ•´æ€§ï¼Œå®‰è£…å‰æ–°å»ºä¸€ä¸ªæ–°çš„è™šæ‹Ÿç¯å¢ƒï¼Œä»¥ä¸‹å®‰è£…è¿‡ç¨‹åœ¨è™šæ‹Ÿç¯å¢ƒä¸­è¿›è¡Œ 123# åœ¨ä¸»ç¯å¢ƒä¸‹conda create -n detectron python=2.7source activate detectron [TOC] CUDA &amp; cuDNN å®‰è£… CUDA9.0 å’Œ cuDNN7.0.5ï¼Œå…·ä½“å®‰è£…æ­¥éª¤å‚è€ƒè‹±ä¼Ÿè¾¾å®˜ç½‘ Caffe2 1. ä»æºç ç¼–è¯‘ ä»¥ä¸‹ä¸ºæºç ç¼–è¯‘çš„è¿‡ç¨‹ï¼Œå°è¯•è¿‡å®‰è£… Pre-Built Binariesï¼Œç»“æœå¤±è´¥äº†ï¼Œä¹Ÿå¯ä»¥ç›´æ¥å®‰è£…é¢„ç¼–è¯‘æ–‡ä»¶ï¼ˆæ¨èï¼‰ï¼Œ[2. å®‰è£…é¢„ç¼–è¯‘æ–‡ä»¶](#2. å®‰è£…é¢„ç¼–è¯‘æ–‡ä»¶) å®‰è£…ä¾èµ–åŒ… 1234567891011121314151617181920212223242526sudo apt-get updatesudo apt-get install -y --no-install-recommends \ build-essential \ git \ libgoogle-glog-dev \ libgtest-dev \ libiomp-dev \ libleveldb-dev \ liblmdb-dev \ libopencv-dev \ libopenmpi-dev \ libsnappy-dev \ libprotobuf-dev \ openmpi-bin \ openmpi-doc \ protobuf-compiler \ python-dev \ python-pip \ libgflags-dev \ cmakepip install --user \ future \ numpy \ protobuf \ typing \ hypothesis pip install ä½¿ç”¨é»˜è®¤é•œåƒä¸‹è½½é€Ÿåº¦è¾ƒæ…¢ï¼Œå¯ä»¥é€‰æ‹©ä½¿ç”¨æ¸…åå¤§å­¦ pypi é•œåƒ 123456# for temporary usepip install -i https://pypi.tuna.tsinghua.edu.cn/simple some-package# set to defaultpip install pip -U # upgrade pip to the latest version (&gt;=10.0.0)pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple ä¸‹è½½ä»£ç ä»“åº“å¹¶ç¼–è¯‘ 1234git clone https://github.com/pytorch/pytorch.git &amp;&amp; cd pytorchgit submodule update --init --recursive # å®‰è£…æ‰€éœ€å­æ¨¡å—conda install pyyaml # å®‰è£…ç¼ºå°‘çš„ä¾èµ–åŒ…python setup.py install å¦‚æœç¼–è¯‘é¡ºåˆ©é€šè¿‡ï¼Œæ­å–œï¼Œæ¥ä¸‹æ¥æµ‹è¯• caffe2 å®‰è£…æ˜¯å¦æ­£ç¡®ï¼Œ[3. å®‰è£…åæµ‹è¯•](#3. å®‰è£…åæµ‹è¯•) é”™è¯¯ä¿¡æ¯1ï¼šæœåŠ¡å™¨å®‰è£…çš„ git åœ¨æ‰§è¡Œ clone å‘½ä»¤æ—¶æŠ¥é”™æ‰¾ä¸åˆ° https åè®®ï¼Œåº”è¯¥æ˜¯å®‰è£…ä¸å®Œæ•´å¯¼è‡´çš„ï¼Œå¯ä»¥åœ¨å½“å‰ç¯å¢ƒä¸‹é‡æ–°å®‰è£… git åé‡è¯•ï¼ˆä½¿ç”¨å‘½ä»¤ conda install gitï¼Œæ¨èï¼‰æˆ–è€…ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ä»£æ›¿ï¼š 1git clone git://github.com/pytorch/pytorch.git &amp;&amp; cd pytorch é”™è¯¯ä¿¡æ¯2ï¼ˆæœªè§£å†³ï¼‰ï¼šåœ¨æ‰§è¡Œå®‰è£…å‘½ä»¤æ—¶ (python setup.py install)ï¼Œå‡ºç°ä»¥ä¸‹é”™è¯¯ï¼š 1Â·Â·Â·Â·Â·Â·/libmklml_intel.so: file not recognized: File truncated. è¯¥é”™è¯¯æŒ‡å‘ pytorch/third_party/ideep/mkl-dnn/external/mklml_lnx_2019.0.1.20180928/lib/libmklml_intel.so æ–‡ä»¶ï¼Œå¯èƒ½æ˜¯æ–‡ä»¶ä¸å®Œæ•´å¯¼è‡´çš„é”™è¯¯ï¼Œä½†æ˜¯æœªæ‰¾åˆ°åŸå› åŠè§£å†³æ–¹æ³•ã€‚å¦‚æœå‡ºç°æ­¤é”™è¯¯è¯·å°è¯•é€šè¿‡é¢„ç¼–è¯‘æ–‡ä»¶å®‰è£… caffe2. å…¶ä»–é”™è¯¯ï¼šæŸ¥çœ‹ Caffe2 troubleshooting 2. å®‰è£…é¢„ç¼–è¯‘æ–‡ä»¶ Caffe2 åªæä¾› Anaconda çš„é¢„ç¼–è¯‘å®‰è£…åŒ…ï¼Œéœ€è¦å®‰è£… Anaconda æˆ– Miniconda é¦–å…ˆæ·»åŠ æ¸…åå¤§å­¦ç»´æŠ¤çš„ PyTorch æºï¼Œä¸‹è½½é€Ÿåº¦æ›´å¿«ï¼š 1conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/pytorch/ ç„¶åæ‰§è¡Œå®‰è£…æ“ä½œï¼š 1conda install pytorch-nightly 3. å®‰è£…åæµ‹è¯• å®‰è£…å®Œæˆåï¼Œæµ‹è¯•å®‰è£…æ˜¯å¦æˆåŠŸ 123456# To check if Caffe2 build was successfulpython -c 'from caffe2.python import core' 2&gt;/dev/null &amp;&amp; echo "Success" || echo "Failure"# To check if Caffe2 GPU build was successful# This must print a number &gt; 0 in order to use Detectronpython -c 'from caffe2.python import workspace; print(workspace.NumCudaDevices())' æ ¹æ®æ‰§è¡Œç»“æœåˆ¤æ–­å®‰è£…æ˜¯å¦æˆåŠŸ ä»æºç ç¼–è¯‘éœ€æ³¨æ„ï¼š If the caffe2 Python package is not found, you likely need to adjust your PYTHONPATH environment variable to include its location (/path/to/caffe2/build, where build is the Caffe2 CMake build directory). COCO API ä¾èµ–ï¼š setuptools&gt;=18.0 cython&gt;=0.27.3 matplotlib&gt;=2.1.0 123456conda install setuptools cython matplotlibCOCOAPI=/path/to/clone/cocoapi # æŒ‡å®šå®‰è£…è·¯å¾„git clone https://github.com/cocodataset/cocoapi.git $COCOAPIcd $COCOAPI/PythonAPImake#python setup.py install --user Detectron ä¸‹è½½ä»£ç ä»“åº“ï¼š 12DETECTRON=/path/to/clone/detectron # æŒ‡å®šå®‰è£…è·¯å¾„git clone https://github.com/facebookresearch/detectron $DETECTRON å®‰è£… Python ä¾èµ–ï¼š 1pip install -i https://pypi.tuna.tsinghua.edu.cn/simple -r $DETECTRON/requirements.txt ç„¶å make: 1cd $DETECTRON &amp;&amp; make å®‰è£…å®Œæˆåè¿è¡Œæµ‹è¯•ï¼š 1python $DETECTRON/detectron/tests/test_spatial_narrow_as_op.py ç»“æœè¾“å‡º OKï¼Œå®‰è£…å®Œæ¯• è¾“å‡ºä»¥ä¸‹æç¤ºä¿¡æ¯ä¸å¿…ç†ä¼šï¼š 12No handlers could be found for logger "caffe2.python.net_drawer"net_drawer will not run correctly. Please install the correct dependencies. Troubleshooting å‚ç…§ Detectron Troubleshooting Reference https://github.com/facebookresearch/Detectron/blob/master/INSTALL.md https://caffe2.ai/docs/getting-started.html?platform=ubuntu&amp;configuration=prebuilt https://blog.csdn.net/weixin_43624538/article/details/84712617 P.S. CUDA8.0 cuDNN5.1.10 å®‰è£…å¤±è´¥ï¼ŒåŸå› ï¼šPyTorch éœ€è¦ cuDNN&gt;=7.0 æŸ¥çœ‹ CUDA å’Œ cuDNN ç‰ˆæœ¬ï¼š 12345# CUDAcat /usr/local/cuda/version.txt# cuDNNcat /usr/local/cuda/include/cudnn.h | grep CUDNN_MAJOR -A 2]]></content>
      <categories>
        <category>å®‰è£…</category>
      </categories>
      <tags>
        <tag>detectron</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[YOLOv3 å®‰è£…æ­¥éª¤]]></title>
    <url>%2F2019%2F01%2F15%2FYOLOv3-installation%2F</url>
    <content type="text"><![CDATA[æ“ä½œç³»ç»Ÿï¼šLinux 16.04 ä¾èµ–ï¼š CUDA OpenCV darknet å†™åœ¨å‰é¢ï¼šconda æ˜¯ä¸€æ¬¾éå¸¸å¥½ç”¨çš„ python ç¯å¢ƒç®¡ç†å·¥å…·ï¼Œå»ºè®®å®‰è£… Anaconda æˆ– Minicondaã€‚å®‰è£…åŠä½¿ç”¨è¯·å‚é˜…ç½‘ä¸Šæ•™ç¨‹ï¼Œå®‰è£…å®Œæˆåè®°å¾—æ·»åŠ æ¸…åå¤§å­¦ tuna é•œåƒã€‚ Anaconda é•œåƒä½¿ç”¨å¸®åŠ© CUDA æŒ‰ç…§ç½‘ä¸Šæ•™ç¨‹æˆ–è‹±ä¼Ÿè¾¾å®˜æ–¹ç½‘ç«™æ­£ç¡®å®‰è£… CUDA å’Œ cuDNNï¼ˆå®éªŒå®¤æœåŠ¡å™¨ä¸Šçš„ç‰ˆæœ¬æ˜¯ cuda9.0 cudnn7.1ï¼‰ OpenCv å¦‚æœå®‰è£…äº† condaï¼Œé¦–å…ˆè¿›å…¥ä½ æƒ³è¦å®‰è£… YOLO çš„è™šæ‹Ÿç¯å¢ƒã€‚ç¬¬ä¸€æ¬¡ä½¿ç”¨ Anaconda è¯·å…ˆåˆ›å»ºè™šæ‹Ÿç¯å¢ƒã€‚ 1conda create --name YOURNAME python=3.6 numpy pandas matplotlib ï¼ˆYOURNAME æ›¿æ¢ä¸ºä½ æƒ³è¦çš„åå­—ï¼‰ä¸Šè¿°å‘½ä»¤å°†åˆ›å»ºæ–°çš„ python è™šæ‹Ÿç¯å¢ƒï¼Œå¹¶å®‰è£…å¸¸ç”¨å·¥å…·åŒ… numpy, pandas, matplotlibï¼Œåˆ›å»ºå®Œæˆåè¿›å…¥è™šæ‹Ÿç¯å¢ƒ 12source activate YOURNAMEsource deactivate # use this one to exit è¿›å…¥ç¯å¢ƒåå¼€å§‹å®‰è£… OpenCV 1conda install opencv å®‰è£…å®Œæ¯•å³å¯ darknet é¦–å…ˆä¸‹è½½ github ä»“åº“ 12git clone https://github.com/AlexeyAB/darknet.gitcd darknet ç„¶åæ‰“å¼€ Makefile æ–‡ä»¶ï¼Œä¿®æ”¹ä»¥ä¸‹é€‰é¡¹ï¼š 123GPU = 1CUDNN = 1OPENCV = 1 ç„¶ååœ¨ darknet ç›®å½•ä¸‹æ‰§è¡Œ 1make å¦‚æœæ²¡æœ‰æŠ¥é”™ï¼ŒYOLOv3 å°±å®‰è£…æˆåŠŸäº†ã€‚æµ‹è¯•ä¸€ä¸‹ 1./darknet å¯ä»¥çœ‹åˆ°è¾“å‡ºä¸ºï¼š 1usage: ./darknet &lt;function&gt; Reference https://github.com/AlexeyAB/darknet https://pjreddie.com/darknet/yolo/ ğŸ¦„]]></content>
      <categories>
        <category>å®‰è£…</category>
      </categories>
      <tags>
        <tag>yolo</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[PANet å®‰è£…æ­¥éª¤]]></title>
    <url>%2F2019%2F01%2F15%2FPANet-installation%2F</url>
    <content type="text"><![CDATA[Requirements æ“ä½œç³»ç»Ÿï¼šLinux 16.04 å¹³å°ï¼šPyTorch ä¾èµ– pytorch = 0.4.0 torchvision &gt;= 0.2.0 cython matplotlib numpy scipy opencv pyyaml packaging pycocotools â€“ for coco dataset tensorboardX â€“ for logging in TensorBoard PyTorch ä½¿ç”¨ conda å®‰è£… PyTorch æ¯”è¾ƒç®€å•ï¼Œé¦–å…ˆè¿›å…¥ conda ç¯å¢ƒï¼Œç„¶åæ‰§è¡Œ 1conda install pytorch=0.4.0 torchvision cuda90 -c pytorch å…¶ä½™ cython ç­‰åŒ…éƒ½å¯ä»¥ä½¿ç”¨ conda install æˆ–è€… pip install å‘½ä»¤æ¥å®‰è£…ï¼Œå°±ä¸å†é‡å¤äº† ç¼–è¯‘ PANet é¦–å…ˆä¸‹è½½ github ä»“åº“ï¼š 12git clone https://github.com/ShuLiu1993/PANet.gitcd PANet ç„¶åç¼–è¯‘ 12cd lib # please change to this directorysh make.sh ç­‰å¾…ç¼–è¯‘å®Œæˆå³å¯ã€‚è®­ç»ƒä»£ç åœ¨ PANet/tools æ–‡ä»¶å¤¹ä¸‹ã€‚ å¦‚æœå®‰è£…è¿‡ç¨‹æŠ¥é”™æ‰¾ä¸åˆ° cuda_runtime.hï¼Œå¯ä»¥æŸ¥çœ‹è¿™é‡Œ Reference https://github.com/ShuLiu1993/PANet https://github.com/roytseng-tw/Detectron.pytorch]]></content>
      <categories>
        <category>å®‰è£…</category>
      </categories>
      <tags>
        <tag>panet</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æŸ¥æ‰¾å›æ–‡å­—ç¬¦ä¸²ï¼šé©¬æ‹‰è½¦ç®—æ³• Manacher's Algorithm]]></title>
    <url>%2F2018%2F12%2F20%2FManacher-Algorithm%2F</url>
    <content type="text"><![CDATA[åœ¨ LeetCode çœ‹åˆ°ä¸€ä¸ªé¢˜ï¼Œç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¿”å›æœ€å¤§é•¿åº¦çš„å›æ–‡å­å­—ç¬¦ä¸²ã€‚ Example: 12Input: "babad"Output: "bab" or "aba" æœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯æš´åŠ›å¾ªç¯éå†ï¼Œä½†æ˜¯ç®—æ³•å¤æ‚åº¦ä¸º $O(n^3)$, å› æ­¤è®°å½•ä¸€ä¸ªçº¿æ€§å¤æ‚åº¦çš„ç®—æ³•â€”â€”é©¬æ‹‰è½¦ç®—æ³•ã€‚ LeetCodeï¼šhttps://leetcode.com/problems/longest-palindromic-substring è‹±æ–‡è§£é‡Šï¼šhttps://articles.leetcode.com/longest-palindromic-substring-part-ii ä¸­æ–‡è§£é‡Šï¼šhttps://www.felix021.com/blog/read.php?2040 Manacherâ€™s Algorithm é¦–å…ˆï¼Œå‡è®¾è¾“å…¥å­—ç¬¦ä¸²ä¸º abaabaï¼Œæ˜¾ç„¶è¾“å…¥å³ä¸ºæœ€é•¿çš„å›æ–‡å­—ç¬¦ä¸²ï¼Œå› æ­¤è¾“å‡ºåº”ä¸º abaabaã€‚è®©æˆ‘ä»¬åˆ†ä¸¤æ­¥æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ 1. é¢„å¤„ç† æˆ‘ä»¬æƒ³ä¸€ä¸‹å¯èƒ½ä¼šå‘ç°ï¼Œå›æ–‡å­—ç¬¦ä¸²åˆ†ä¸ºä¸¤ç§æƒ…å†µï¼šå¥‡æ•°é•¿åº¦å’Œå¶æ•°é•¿åº¦ã€‚è¿™ä¸¤ç§æƒ…å†µæ˜¾ç„¶æ˜¯æ— æ³•ç›´æ¥åˆå¹¶å¤„ç†çš„ï¼Œå› æ­¤é©¬æ‹‰è½¦ç®—æ³•é¦–å…ˆå¯¹è¾“å…¥çš„å­—ç¬¦ä¸²è¿›è¡Œäº†ä¸€ä¸‹å¤„ç†ï¼šåœ¨æ¯ä¸ªå­—ç¬¦çš„ä¸¤ä¾§æ’å…¥ä¸€ä¸ªç‰¹å®šå­—ç¬¦ #ï¼Œä¾‹å¦‚ï¼š 12S = &apos;abaaba&apos;T = &apos;#a#b#a#a#b#a#&apos; è¿™æ ·åšçš„å¥½å¤„æ˜¯æ‰€æœ‰çš„å­—ç¬¦ä¸²éƒ½å˜æˆäº†å¥‡æ•°é•¿åº¦ï¼Œè¿™æ ·æˆ‘ä»¬å°±ä¸éœ€è¦åˆ†åˆ«è€ƒè™‘äº† é¢„å¤„ç†éƒ¨åˆ†çš„ä»£ç å¦‚ä¸‹ï¼š 123456def preProcess(self, s): l = [c for c in s] ret = '#'.join(l) # add ^ and $ at both bounds to avoid out of index problem return '^#'+ret+'#$' 2. ç®—æ³•éƒ¨åˆ† ç®—æ³•çš„æ€æƒ³æ˜¯è¿™æ ·çš„ï¼Œå¯¹äºä¸€ä¸ªé¢„å¤„ç†ä¹‹åçš„å­—ç¬¦ä¸² Tï¼Œå®šä¹‰ä¸€ä¸ªå…·æœ‰ç›¸åŒé•¿åº¦çš„æ•°ç»„ Pï¼Œä½¿å¾— P[i] ç­‰äºä»¥ T[i] ä¸ºä¸­å¿ƒçš„ T ä¸­æœ€é•¿å›æ–‡å­—ç¬¦ä¸²çš„åŠå¾„ï¼Œå¯¹äºä¸Šé¢çš„ä¾‹å­ 12T = # a # b # a # a # b # a #P = 0 1 0 3 0 1 6 1 0 3 0 1 0 æˆ‘ä»¬å¯ä»¥å‘ç°ï¼ŒP å…·æœ‰æŸç§å¯¹ç§°æ€§è´¨ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸ªæ€§è´¨åœ¨ä¸€å®šç¨‹åº¦ä¸Šå‡å°æˆ‘ä»¬çš„è®¡ç®—å¤æ‚åº¦ã€‚é‚£ä¹ˆæ‰€æœ‰çš„æƒ…å†µéƒ½æ˜¯å¯¹ç§°çš„å—ï¼Ÿå¯æƒœçš„æ˜¯å¹¶ä¸æ˜¯ï¼Œåªæœ‰åœ¨æŸç§ç‰¹å®šçš„æ¡ä»¶ä¸‹è¿™ç§æƒ…å†µæ‰æˆç«‹ã€‚ä½†æ˜¯æ²¡å…³ç³»ï¼Œæˆ‘ä»¬ä¸€æ ·å¯ä»¥åˆ©ç”¨è¿™ä¸ªæ€§è´¨å‡å°‘è®¡ç®—ï¼Œåªæ˜¯éœ€è¦æ‰¾åˆ°ä¸æ»¡è¶³è¿™ç§æƒ…å†µçš„æ¡ä»¶å°±å¯ä»¥äº† æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªç¨å¾®å¤æ‚ä¸€ç‚¹çš„ä¾‹å­ï¼ŒS = â€˜babcbabcbaccbaâ€™ ä¸Šå›¾ä¸­å‡è®¾å½“å‰ i ä¸º 13ï¼Œ å®çº¿è¡¨ç¤ºå›æ–‡å­—ç¬¦ä¸² abcbabcbaçš„ä¸­å¿ƒï¼Œè™šçº¿è¡¨ç¤ºä¸¤ä¾§çš„è¾¹ç•Œã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œç”±äºå›æ–‡å­—ç¬¦ä¸²çš„å¯¹ç§°æ€§è´¨ï¼Œæˆ‘ä»¬å¯ä»¥å¿«é€Ÿçš„çŸ¥é“ P[13] çš„å€¼ï¼Œä¹Ÿå°±æ˜¯ç­‰äº P[9] å¤„çš„å€¼ã€‚ç„¶åç»§ç»­çœ‹ ç°åœ¨æˆ‘ä»¬åˆ°äº†ä¸‹æ ‡ä¸º 15 çš„ä½ç½®ï¼Œp[15] çš„å€¼æ˜¯å¤šå°‘å‘¢ï¼Ÿå¦‚æœæˆ‘ä»¬ç»§ç»­æ ¹æ®å¯¹ç§°æ€§è´¨ï¼Œé‚£ä¹ˆå°±ä¼šå¾—åˆ° P[15] = P[7] = 7ï¼Œä½†å¾ˆæ˜¾ç„¶æ˜¯é”™è¯¯çš„ã€‚ å¦‚æœä»¥ T[15] ä¸ºä¸­å¿ƒï¼Œæˆ‘ä»¬å¾—åˆ°çš„å›æ–‡å­—ç¬¦ä¸²ä¸º #a#b#c#b#a#ï¼Œè€Œ T[7] å¤„çš„å›æ–‡å­—ç¬¦ä¸²è¦æ›´é•¿ï¼Œè¿™æ˜¯å› ä¸ºæˆ‘ä»¬å½“å‰çš„ä»¥ C ä¸ºä¸­å¿ƒçš„å›æ–‡å­—ç¬¦ä¸²å¹¶ä¸èƒ½å®Œå…¨åŒ…å«ä»¥ T[7] ä¸ºä¸­å¿ƒçš„å›æ–‡å­—ç¬¦ä¸²ï¼Œå› æ­¤å°±é€ æˆäº†ä¸æ»¡è¶³å¯¹ç§°æ€§è´¨çš„æƒ…å†µã€‚è§£å†³åŠæ³•ä¹Ÿå¾ˆç®€å•ï¼Œåªè¦å– P[i] = min(P[i'], R-i) å°±å¯ä»¥äº†ã€‚ ç”¨ä¼ªä»£ç æ€»ç»“ä¸€ä¸‹ï¼š 123if P[i&apos;] &lt;= R - ithen P[i] = P[i&apos;]else P[i] &lt;= P[i&apos;] ç„¶åæˆ‘ä»¬éœ€è¦ç¡®å®š R å’Œ C çš„æ›´æ–°ç­–ç•¥ï¼šå¦‚æœä»¥ i ä¸ºä¸­å¿ƒçš„å›æ–‡å­—ç¬¦ä¸²çš„è¶…è¿‡äº† Rï¼Œåˆ™ä»¤æ–°çš„ä¸­å¿ƒC = iï¼Œç„¶åæŠŠ R æ‰©å±•åˆ°æ–°çš„å›æ–‡å­—ç¬¦ä¸²çš„å³è¾¹ç•Œã€‚ å…¨éƒ¨ä»£ç å¦‚ä¸‹ 12345678910111213141516171819202122232425262728293031323334353637383940414243class Solution: def longestPalindrome(self, s): """ :type s: str :rtype: str """ # Manacher's algorithm T = self.preProcess(s) length = len(T) C, R = 0, 0 P = [0] * length i = 1 while i &lt; length-1: # i_mirror can reduce the computation of P[i] i_mirror = 2*C - i # equals to C - (i - C) P[i] = min(P[i_mirror], R-i) if R &gt; i else 0 # expand the palindrome centered at i while T[i + P[i] + 1] == T[i - P[i] - 1]: P[i] += 1 # adjust center if the expanded palindrome pasts R if R &lt; i + P[i]: C = i R = i + P[i] i += 1 maxLength = max(P) centerIndex = P.index(maxLength) start = (centerIndex - maxLength) // 2 stop = start + maxLength return s[start:stop] def preProcess(self, s): l = [c for c in s] ret = '#'.join(l) # add ^ and $ at both bounds to avoid out of index problem return '^#'+ret+'#$' æœ€å æŒ‰ç†è¯´çº¿æ€§å¤æ‚åº¦çš„ç®—æ³•å·²ç»æ˜¯å¾ˆå¿«äº†ï¼Œå½“ç„¶ LeetCode ä¸Šè¿˜æœ‰å¾ˆå¤šå¤§ç¥çš„ç¥ä»™ä»£ç æ›´å¿«ï¼Œåæ­£æˆ‘æ˜¯çœ‹ä¸æ‡‚â€¦â€¦ ğŸ™‚ å®Œ]]></content>
      <categories>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
        <tag>LeetCode</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[PyTorch è°ƒç”¨ GPU æŠ¥ CUDA unknown error]]></title>
    <url>%2F2018%2F12%2F18%2Fpytorch-cuda-unknown-error%2F</url>
    <content type="text"><![CDATA[æœ€è¿‘ä¸ºäº†è·‘ PANetï¼Œåœ¨æœåŠ¡å™¨ä¸Šå®‰è£…äº† Detectron.pytorchï¼Œå®‰è£…è¿‡ç¨‹è¿˜æŒºé¡ºåˆ©ï¼Œä½†æ˜¯åªè¦è°ƒç”¨ GPU è¿ç®—å°±æŠ¥æœªçŸ¥é”™è¯¯ï¼Œç½‘ä¸Šæœç´¢ä¸€ç•ªå‘ç°å¯èƒ½æ˜¯æ˜¾å¡é©±åŠ¨å®‰è£…æœ‰é—®é¢˜ï¼Œå¯¼è‡´ Torch è°ƒç”¨æ˜¾å¡æ—¶æ— æ³•æ­£å¸¸åˆå§‹åŒ–ã€‚è¿™é‡Œè®°å½•ä¸€ä¸‹ç½‘ä¸Šçš„è§£å†³æ–¹æ³•ã€‚ æŠ¥é”™ä¿¡æ¯ 1RuntimeError: cuda runtime error (30) : unknown error at /opt/conda/conda-bld/pytorch_1524586445097/work/aten/src/THC/THCTensorRandom.cu:25 æ–¹æ³•1ï¼šé‡æ–°å®‰è£…æ˜¾å¡é©±åŠ¨å’Œ CUDA æ—¢ç„¶æ˜¯é©±åŠ¨é—®é¢˜ï¼Œé‚£ä¹ˆè‡ªç„¶åœ°é‡æ–°å®‰è£…ä¸€ä¸‹æœ€æ–°ç‰ˆçš„æ˜¾å¡é©±åŠ¨åº”è¯¥å°±æ²¡é—®é¢˜äº†ï¼Œæ³¨æ„é©±åŠ¨å®‰è£…å®Œæˆä¹‹åæœ€å¥½è¦é‡å¯ä¸€ä¸‹æœºå™¨ã€‚å®‰è£…å®Œé©±åŠ¨ä¹‹åä½¿ç”¨ conda é‡æ–°å®‰è£… PyTorchã€‚ä½†æ˜¯ç”±äºæœåŠ¡å™¨æ˜¯å…¬ç”¨èµ„æºï¼Œä¸ºäº†ä¸å½±å“åŒå­¦ä½¿ç”¨ï¼Œåªå¾—ä½¿ç”¨æƒå®œä¹‹è®¡ã€‚ æ–¹æ³•2ï¼šroot æƒé™è¿è¡Œ python ç½‘ä¸Šçš„è§£å†³æ–¹æ³•é™¤äº†é‡è£…é©±åŠ¨ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€ç§æš‚æ—¶çš„è§£å†³åŠæ³•ã€‚å› ä¸ºæ­£ç¡®å®‰è£…æ˜¾å¡é©±åŠ¨ä¼šä¿è¯ Torch è°ƒç”¨æ˜¾å¡æ—¶è‡ªåŠ¨è¿›è¡Œæ­£å¸¸çš„åˆå§‹åŒ–ï¼Œé‚£æˆ‘ä¹Ÿå¯ä»¥æ‰‹åŠ¨èµ‹äºˆ python root æƒé™å»åˆå§‹åŒ–æ˜¾å¡ã€‚ åœ¨å°è¯•çš„è¿‡ç¨‹ä¸­å‘ç°ï¼Œç”±äºæœåŠ¡å™¨ç¯å¢ƒæ¯”è¾ƒæ··ä¹±ï¼Œsudo æå‡æƒé™ä¹‹åè¿è¡Œçš„ä¸æ˜¯æˆ‘è‡ªå·±çš„ pythonï¼Œè€Œä¸” PYTHONPATH å’Œ ä¸€äº›ç¯å¢ƒå˜é‡ä¹Ÿä¸å¯¹ã€‚è§£å†³æ–¹æ³•å¦‚ä¸‹ï¼š é¦–å…ˆåœ¨ python ä»£ç ä¸­åŠ ä¸Š 12345import osimport syssys.path.append('/path/to/cocoapi/PythonAPI') # my code needs pycocotoolsos.environ["CUDA_DEVICE_ORDER"]="PCI_BUS_ID" # optionalos.environ["CUDA_VISIBLE_DEVICES"]="0" ç„¶ååœ¨è¿è¡Œ 1sudo /path/to/your/python tools/train_net_step.py --dataset dota --cfg xx.yml --use_tfboard ç„¶åå°±å¯ä»¥å¼€å§‹è®­ç»ƒäº† å®Œ]]></content>
      <categories>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>pytorch</tag>
        <tag>cuda</tag>
        <tag>error</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç¼–è¯‘æ—¶é‡åˆ° /tmp æ–‡ä»¶å¤¹ç©ºé—´ä¸è¶³çš„è§£å†³åŠæ³•]]></title>
    <url>%2F2018%2F12%2F11%2FNo-Space-in-tmp%2F</url>
    <content type="text"><![CDATA[ä»Šå¤©åœ¨æœåŠ¡å™¨ä¸Šç¼–è¯‘ PyTorch æ—¶é‡åˆ°äº† /tmp æ–‡ä»¶å¤¹ç©ºé—´ä¸è¶³çš„é—®é¢˜ï¼Œä¸€èˆ¬æ¥è¯´å®‰è£… Ubuntu æ—¶ç»™ / æŒ‚è½½ç‚¹åˆ†é…è¶³å¤Ÿçš„ç¡¬ç›˜ç©ºé—´å°±ä¸ä¼šé‡åˆ°è¿™ä¸ªé—®é¢˜ï¼Œä½†æ˜¯æœåŠ¡å™¨æœ‰å¾ˆå¤šäººç”¨ï¼Œæ–‡ä»¶æ¯”è¾ƒæ··ä¹±ï¼Œ/æŒ‚è½½ç‚¹å·²ç»è¾¾åˆ°äº† 100% çš„ç©ºé—´ä½¿ç”¨ç‡ï¼Œå› æ­¤ç™¾åº¦åˆ°äº†ä¸€ä¸ªè§£å†³åŠæ³• å…¶å®è§£å†³æ–¹æ³•å¾ˆç®€å•ï¼Œåªéœ€è¦åœ¨æœ‰ç¡¬ç›˜ç©ºé—´çš„æŒ‚è½½ç‚¹ä¸‹ï¼ˆä¾‹å¦‚ /home ï¼‰æ–°å»ºä¸€ä¸ªä¸´æ—¶æ–‡ä»¶å¤¹ä¾›ç¼–è¯‘æ—¶ä¸´æ—¶ä½¿ç”¨å°±å¯ä»¥äº† æ–°å»ºæ–‡ä»¶å¤¹ åœ¨ç”¨æˆ·ç›®å½•ä¸‹æ–°å»ºä¸´æ—¶æ–‡ä»¶å¤¹ï¼Œå¹¶ä½¿ä¹‹ç”Ÿæ•ˆå³å¯ 123cd /home/lxymkdir tmpexport TMPDIR = /home/lxy/tmp è¿™æ ·é‡æ–°æ‰§è¡Œç¼–è¯‘å‘½ä»¤å°±å¯ä»¥é¡ºåˆ©ç¼–è¯‘äº† è¿˜å¯ä»¥å°†æœ€åä¸€å¥ä»£ç å†™è¿› .bashrc æ–‡ä»¶ï¼Œç„¶å source ä¸€ä¸‹ï¼Œä»¥åä¸´æ—¶æ–‡ä»¶éƒ½ä¼šå­˜æ”¾åœ¨è¯¥ä¸´æ—¶æ–‡ä»¶å¤¹ å®Œ]]></content>
      <categories>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>Ubuntu</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å°† DOTA æ•°æ®é›†çš„æ ‡æ³¨è½¬æ¢ä¸º COCO æ ¼å¼]]></title>
    <url>%2F2018%2F12%2F10%2FConvert-dataset-to-coco-like%2F</url>
    <content type="text"><![CDATA[DOTA æ•°æ®é›†ï¼šhttp://captain.whu.edu.cn/DOTAweb/index.html COCO æ•°æ®é›†ï¼šhttp://cocodataset.org/#download COCO APIï¼šhttps://github.com/cocodataset/cocoapi API make æŠ¥é”™ï¼Œå®‰è£… Cython å³å¯ 1conda install cython COCO æ•°æ®é›†ç®€ä»‹ COCO æ•°æ®é›†åŒ…å« instanceï¼Œkeypoint å’Œ caption ç­‰éƒ¨åˆ†ï¼Œæœ¬æ–‡åªä»‹ç» instance ç›¸å…³å†…å®¹ COCO æ•°æ®é›†çš„ç»„ç»‡æ–¹å¼ coco â”œâ”€â”€ annos.txt (optional) â”œâ”€â”€ annotations â”œâ”€â”€ classes.txt (optional) â””â”€â”€ images annotations æ–‡ä»¶å¤¹æ”¾æ•°æ®é›†çš„æ ‡æ³¨æ–‡ä»¶ï¼ˆjsonæ ¼å¼ï¼‰ï¼Œimages æ–‡ä»¶å¤¹æ”¾æ•°æ®é›†çš„æ‰€æœ‰å›¾ç‰‡ï¼Œï¼ˆannos.txt æ”¾æ•°æ®é›†çš„åŸå§‹æ ‡æ³¨æ–‡ä»¶ï¼Œclass.txt æ”¾æ ‡æ³¨çš„ç±»åˆ«åç§°ï¼Œæ¯è¡Œä¸€ä¸ªç±»åˆ«ï¼Œä¸å«èƒŒæ™¯ï¼‰ COCO çš„æ•°æ®æ ‡æ³¨æ ¼å¼ COCO æ•°æ®é›†ä»¥ json æ–‡ä»¶æ ¼å¼å­˜å‚¨æ•°æ®é›†çš„æ ‡æ³¨ä¿¡æ¯ï¼Œæ ‡æ³¨çš„æ ¼å¼å¯ä»¥å‚è€ƒ å®˜ç½‘ å’Œè¿™ä¸ª çŸ¥ä¹ä¸“æ ï¼Œåœ¨è¿™é‡Œå°±ä¸é‡å¤äº†ã€‚ ç¡®å®šäº†æ ‡æ³¨çš„æ ¼å¼ä»¥åï¼Œåˆ†æ DOTA æ•°æ®é›†çš„æ ‡æ³¨æ ¼å¼ï¼Œå¯ä»¥æå–å…¶ä¸­çš„ä¿¡æ¯ç„¶åä»¥ json æ ¼å¼å­˜å‚¨ä¸‹æ¥å°±å¯ä»¥äº† æ ¼å¼è½¬æ¢è„šæœ¬ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556import jsonimport dota_utils as utilimport osfrom PIL import Imageinfo = &#123;"description": "DOTA dataset from WHU", "url": "http://caption.whu.edu.cn", "year": 2018, "version": "1.0"&#125;licenses = &#123;"url": "http://creativecommons.org/licenses/by-nc/2.0/", "id": 1, "name": "Attribution-NonCommercial License"&#125;categories = []for i, catName in enumerate(util.wordname_15, start=1): categories.append(&#123;"id": i, "name": "%s" % catName, "supercategory": "%s" % catName&#125;)images = []annotations = []aug = "/home/lxy/dota/data/aug"augmented = "/home/lxy/dota/data/augmented"train_small = "/home/lxy/dota/data/train_small"trainsplit_HBB = "/home/lxy/dota/data/trainsplit_HBB"val_small = "/home/lxy/dota/data/val_small"valsplit_HBB = "/home/lxy/dota/data/valsplit_HBB"dataset_path = [augmented, train_small, trainsplit_HBB, val_small, valsplit_HBB]imgid = 0annid = 0for path in dataset_path: img_path = os.path.join(path, "images") label_path = os.path.join(path, "labelTxt") for file in os.listdir(label_path): img_name = file.replace("txt", "png") im = Image.open(os.path.join(img_path, img_name)) w, h = im.size imgid += 1 images.append(&#123;"license": 1, "file_name": "%s" % img_name, \ "height": h, "width": w, "id": imgid&#125;) f = open(os.path.join(label_path, file)) for line in f.readlines(): line = "".join(line).strip("\n").split(" ") # a bbox has 4 points, a category name and a difficulty if len(line) != 10: print(path, file) else: annid += 1 catid = util.wordname_15.index(line[-2]) + 1 w_bbox = int(line[4][:-2]) - int(line[0][:-2]) h_bbox = int(line[5][:-2]) - int(line[1][:-2]) bbox = [line[0], line[1], str(w_bbox)+'.0', str(h_bbox)+'.0'] annotations.append(&#123;"id": annid, "image_id": imgid, "category_id": catid, \ "segmentation": [line[0:8]], "area": float(w_bbox*h_bbox), \ "bbox": bbox, "iscrowd": 0&#125;) f.close()my_json = &#123;"info": info, "licenses": licenses, "images": images, "annotations": annotations, "categories": categories&#125;with open("/home/lxy/dota/data/coco/annotations/train.json", "w+") as f: json.dump(my_json, f) print("writing json file done!") æ£€æŸ¥è½¬æ¢ç»“æœ è¿™é‡Œéœ€è¦ç”¨åˆ° COCO APIï¼Œå…·ä½“ç”¨æ³•å‚è€ƒ repo é‡Œçš„ demo æ–‡ä»¶ï¼Œè¯»å–è½¬æ¢å®Œæˆçš„æ•°æ®é›†å¹¶æ˜¾ç¤ºæ ‡æ³¨ç»“æœï¼Œè§‚å¯Ÿæ ‡æ³¨æ˜¯å¦æœ‰è¯¯ å®Œ]]></content>
      <categories>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>æ•°æ®é›†</tag>
        <tag>COCO</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[NP-Hardé—®é¢˜]]></title>
    <url>%2F2018%2F12%2F07%2FNP-Hard%2F</url>
    <content type="text"><![CDATA[ç®€å•ç†è§£ NP, P, NP-Complete å’Œ NP-Hard å‚è€ƒï¼šhttps://www.cnblogs.com/sancyun/p/4250360.html P æ˜¯ä¸€ç±»å¯ä»¥é€šè¿‡ç¡®å®šæ€§å›¾çµæœºï¼ˆä»¥ä¸‹ç®€ç§° å›¾çµæœºï¼‰åœ¨å¤šé¡¹å¼æ—¶é—´ (Polynomial time) å†…è§£å†³çš„é—®é¢˜é›†åˆã€‚ NP æ˜¯ä¸€ç±»å¯ä»¥é€šè¿‡éç¡®å®šæ€§å›¾çµæœº ( Non-deterministic Turing Machine) åœ¨å¤šé¡¹å¼æ—¶é—´ (Polynomial time) å†…è§£å†³çš„å†³ç­–é—®é¢˜é›†åˆã€‚ P æ˜¯ NP çš„å­é›†ï¼Œä¹Ÿå°±æ˜¯è¯´ä»»ä½•å¯ä»¥è¢«å›¾çµæœºåœ¨å¤šé¡¹å¼æ—¶é—´å†…è§£å†³çš„é—®é¢˜éƒ½å¯ä»¥è¢«éç¡®å®šæ€§çš„å›¾çµæœºè§£å†³ã€‚ æ¥ä¸‹æ¥è¯´è¯´ NP é‡Œæœ€éš¾å¾—é—®é¢˜ NP-Completeã€‚ å…¶å®šä¹‰å¦‚ä¸‹ï¼Œ å¦‚æœä¸€ä¸ªå†³ç­–é—®é¢˜ L æ˜¯ NP-Complete çš„ï¼Œé‚£ä¹ˆ L å…·å¤‡ä»¥ä¸‹ä¸¤ä¸ªæ€§è´¨ï¼š L æ˜¯ NPï¼ˆç»™å®šä¸€ä¸ªè§£å†³ NP-Complete çš„æ–¹æ¡ˆ (solutionï¼Œæ„Ÿå…´è¶£çš„è¯»è€…å¯ä»¥æ€è€ƒä¸€ä¸‹ solution å’Œ answer çš„åŒºåˆ«)ï¼Œå¯ä»¥å¾ˆå¿«éªŒè¯æ˜¯å¦å¯è¡Œï¼Œä½†ä¸å­˜åœ¨å·²çŸ¥é«˜æ•ˆçš„æ–¹æ¡ˆ ã€‚ï¼‰ NP é‡Œçš„ä»»ä½•é—®é¢˜å¯ä»¥åœ¨å¤šé¡¹å¼æ—¶é—´å†…è½¬ä¸º Lã€‚ è€Œ NP-Hard åªéœ€è¦å…·å¤‡ NP-Complete çš„ç¬¬äºŒä¸ªæ€§è´¨ï¼Œå› æ­¤ NP-Complete æ˜¯ NP-Hard çš„å­é›†ã€‚ è¿™å››è€…çš„å…³ç³»å¦‚ä¸‹å›¾ï¼ˆå‡è®¾ P!= NPï¼‰ï¼š]]></content>
      <categories>
        <category>ç¬”è®°</category>
      </categories>
      <tags>
        <tag>NP-Hard</tag>
      </tags>
  </entry>
</search>
